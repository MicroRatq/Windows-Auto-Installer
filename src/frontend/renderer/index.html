<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Windows自动安装器</title>
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/topbar.css">
  <link rel="stylesheet" href="/sidebar.css">
  <link rel="stylesheet" href="/workspace-controls.css">
  <link rel="stylesheet" href="/notification.css">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
  <div class="app-container">
    <div class="top-bar">
      <div class="top-bar-center">
        <fluent-text-field class="search-bar" placeholder="搜索..." appearance="outline"></fluent-text-field>
      </div>
      <div class="top-bar-right">
        <button id="theme-toggle" class="top-bar-button" title="切换主题">
          🌓
        </button>
        <button id="window-minimize" class="top-bar-button" title="最小化">
          −
        </button>
        <button id="window-maximize" class="top-bar-button" title="最大化">
          □
        </button>
        <button class="close-button top-bar-button" id="window-close" title="关闭">
          ×
        </button>
      </div>
    </div>

    <div class="content-area">
      <div class="sidebar" id="sidebar">
        <div class="sidebar-resizer" id="sidebar-resizer"></div>
        <div class="sidebar-content">
          <div class="sidebar-header">
            <button id="collapse-toggle" class="collapse-button" title="折叠/展开">
              <i data-lucide="menu" id="collapse-icon"></i>
            </button>
          </div>
          <div class="sidebar-menu-groups" id="sidebar-menu-groups">
            <!-- 镜像菜单组 -->
            <div class="menu-group">
              <div class="main-menu-text" data-menu="iso">镜像</div>
              <fluent-listbox id="sub-menu-iso" class="sub-menu">
                <!-- 动态生成 -->
              </fluent-listbox>
            </div>

            <!-- 系统配置菜单组 -->
            <div class="menu-group">
              <div class="main-menu-text" data-menu="system">系统配置</div>
              <fluent-listbox id="sub-menu-system" class="sub-menu">
                <!-- 动态生成 -->
              </fluent-listbox>
            </div>

            <!-- 软件安装菜单组 -->
            <div class="menu-group">
              <div class="main-menu-text" data-menu="software">软件安装</div>
              <fluent-listbox id="sub-menu-software" class="sub-menu">
                <!-- 动态生成 -->
              </fluent-listbox>
            </div>
          </div>
          <!-- 折叠后的图标菜单 -->
          <fluent-listbox id="icon-menu" class="icon-menu" style="display: none;">
            <!-- 动态生成 -->
          </fluent-listbox>

          <div class="sidebar-footer">
            <button class="settings-button" id="settings-button">
              <i data-lucide="settings" class="settings-icon"></i>
              <span class="settings-text">设置</span>
            </button>
          </div>
        </div>
      </div>

      <div class="workspace">
        <div class="workspace-content">
          <h2 id="workspace-title">镜像缓存</h2>
          <!-- 镜像相关 -->
          <div id="workspace-iso-cache" class="workspace-panel active">
            <!-- 内容由 iso-cache.ts 动态生成 -->
          </div>
          <div id="workspace-iso-config" class="workspace-panel">
            <p>镜像配置功能：生成autounattend.xml配置文件</p>
          </div>
          <div id="workspace-iso-burn" class="workspace-panel">
            <p>镜像烧录功能：将配置添加到ISO镜像</p>
          </div>
          <!-- 系统配置相关 -->
          <div id="workspace-migration" class="workspace-panel">
            <p>系统迁移功能：迁移pagefile.sys和Users文件夹</p>
          </div>
          <div id="workspace-activation" class="workspace-panel">
            <p>系统激活功能：KMS或TSforge激活</p>
          </div>
          <!-- 软件安装相关 -->
          <div id="workspace-office" class="workspace-panel">
            <p>Office安装功能：使用Office Tool Plus自动安装</p>
          </div>
          <div id="workspace-packages" class="workspace-panel">
            <p>软件包安装功能：使用Winget和pywinauto批量安装</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="/main.ts"></script>
</body>

</html>